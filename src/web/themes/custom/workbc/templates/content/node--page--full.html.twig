{#
/**
 * @file
 * Theme override to display a node.
 *
 * Available variables:
 * - node: The node entity with limited access to object properties and methods.
 *   Only method names starting with "get", "has", or "is" and a few common
 *   methods such as "id", "label", and "bundle" are available. For example:
 *   - node.getCreatedTime() will return the node creation timestamp.
 *   - node.hasField('field_example') returns TRUE if the node bundle includes
 *     field_example. (This does not indicate the presence of a value in this
 *     field.)
 *   - node.isPublished() will return whether the node is published or not.
 *   Calling other methods, such as node.delete(), will result in an exception.
 *   See \Drupal\node\Entity\Node for a full list of public properties and
 *   methods for the node object.
 * - label: (optional) The title of the node.
 * - content: All node items. Use {{ content }} to print them all,
 *   or print a subset such as {{ content.field_example }}. Use
 *   {{ content|without('field_example') }} to temporarily suppress the printing
 *   of a given child element.
 * - author_picture: The node author user entity, rendered using the "compact"
 *   view mode.
 * - metadata: Metadata for this node.
 * - date: (optional) Themed creation date field.
 * - author_name: (optional) Themed author name field.
 * - url: Direct URL of the current node.
 * - display_submitted: Whether submission information should be displayed.
 * - attributes: HTML attributes for the containing element.
 *   The attributes.class element may contain one or more of the following
 *   classes:
 *   - node: The current template type (also known as a "theming hook").
 *   - node--type-[type]: The current node type. For example, if the node is an
 *     "Article" it would result in "node--type-article". Note that the machine
 *     name will often be in a short form of the human readable label.
 *   - node--view-mode-[view_mode]: The View Mode of the node; for example, a
 *     teaser would result in: "node--view-mode-teaser", and
 *     full: "node--view-mode-full".
 *   The following are controlled through the node publishing options.
 *   - node--promoted: Appears on nodes promoted to the front page.
 *   - node--sticky: Appears on nodes ordered above other non-sticky nodes in
 *     teaser listings.
 *   - node--unpublished: Appears on unpublished nodes visible only to site
 *     admins.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - content_attributes: Same as attributes, except applied to the main
 *   content tag that appears in the template.
 * - author_attributes: Same as attributes, except applied to the author of
 *   the node tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 * - view_mode: View mode; for example, "teaser" or "full".
 * - teaser: Flag for the teaser state. Will be true if view_mode is 'teaser'.
 * - page: Flag for the full page state. Will be true if view_mode is 'full'.
 * - readmore: Flag for more state. Will be true if the teaser content of the
 *   node cannot hold the main body content.
 * - logged_in: Flag for authenticated user status. Will be true when the
 *   current user is a logged-in member.
 * - is_admin: Flag for admin user status. Will be true when the current user
 *   is an administrator.
 *
 * @see template_preprocess_node()
 *
 */
#}

{% set page_format = content.field_page_format|render|striptags|trim|lower %}

{% set title = label %}
{% set hero_image = content.field_hero_image[0] %}
{% set hero_text = content.field_hero_text[0] %}
{% set page_body = content.body %}
{% set page_content = content.field_content %}


{% set left_block %}
  {{ drupal_entity('block', 'sidenavblock') }}
{% endset %}

{% set related %}
  {{ drupal_entity('block', 'related_topics') }}
{% endset %}


{%
  set classes = [
    'node',
    'node--type-' ~ node.bundle|clean_class,
    node.isPromoted() ? 'node--promoted',
    node.isSticky() ? 'node--sticky',
    not node.isPublished() ? 'node--unpublished',
    view_mode ? 'node--view-mode-' ~ view_mode|clean_class,
    page_format ? 'page-format--' ~ page_format|clean_class,
    'page-container',
    'container-lg',
  ]
%}

{% if hero_image or hero_text %}
  {% include '@workbc/includes/hero.html.twig' %}
{% endif %}

<div class="hero-home">
  <div class="hero-home__image">
    {{ hero_image }}
  </div>

  <div class="hero-home__container container-lg">

    <div class="job-search">
      <ul class="nav nav-tabs" id="Tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#find" type="button" role="tab" aria-controls="Find a Job" aria-selected="true">Find a Job</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#post" type="button" role="tab" aria-controls="Post a Job" aria-selected="false">Post a Job</button>
        </li>
      </ul>

      <div class="tab-content tab-content__jobs" id="TabContent">
        <div class="tab-pane fade show active" id="find" role="tabpanel" aria-labelledby="find-job-tab">
          <h2 class="job-search__title">Search <strong>53,173</strong> jobs in B.C.</h2>
          <div class="job-search__txt">Refine results by using keywords and selecting Job Title, Job Description and/or Employer. Or perform a direct search by entering the Job Number.</div>
          <div class="job-search__form-container job-search__form-inputs">
            <div class="form-group"><label>Keyword</label> <input type="text" name="keywords" class="form-control ng-untouched ng-pristine ng-valid" placeholder="Keyword(s)" aria-label="Keyword(s)" data-dashlane-rid="53776f67d629cd71" data-form-type="query"></div>
            <div class="form-group"><label>Location</label><input type="text" aria-label="City or Postal Code" name="cityOrPostal" placeholder="City or Postal Code" id="cityOrPostal" maxlength="50" class="mat-autocomplete-trigger form-control ng-untouched ng-pristine ng-valid" autocomplete="off" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-haspopup="true" data-dashlane-rid="6b46ced10fc0bfa2" data-form-type="address,city,zip" data-kwimpalastatus="alive" data-kwimpalaid="1668797718024-1"></div>
          </div>
          <div class="job-search__form-container job-search__form-radios "><div class="form-group ng-star-inserted"><input type="radio" name="KeywordbyAll" id="KeywordbyAll" value="all" class="ng-untouched ng-pristine ng-valid" data-dashlane-rid="b88790ce8d062f30" data-form-type="other"><label for="KeywordbyAll" class="form-check-label">Search All </label></div><div class="form-group ng-star-inserted"><input type="radio" name="KeywordbyJobTitle" id="KeywordbyJobTitle" value="title" class="ng-untouched ng-pristine ng-valid" data-dashlane-rid="0bcbebcea3e08e2d" data-form-type="title,job" data-kwimpalastatus="dead"><label for="KeywordbyJobTitle" class="form-check-label">Job title only</label></div><div class="form-group ng-star-inserted"><input type="radio" name="KeywordbyEmployer" id="KeywordbyEmployer" value="employer" class="ng-untouched ng-pristine ng-valid" data-dashlane-rid="701dc2a82a1c2ea3" data-form-type="other"><label for="KeywordbyEmployer" class="form-check-label">Employer name only</label></div><!----><div class="form-group"><input type="radio" name="KeywordbyJobNumber" id="KeywordbyJobNumber" value="jobId" class="ng-untouched ng-pristine ng-valid" data-dashlane-rid="58eb87e10925f1c9" data-form-type="other"><label for="KeywordbyJobNumber" class="form-check-label">Job Number</label></div></div>
          <a class="btn-primary" href="#">Find Jobs</a>
        </div>

        <div class="tab-pane fade" id="post" role="tabpanel" aria-labelledby="post-job-tab">
          <h2 class="job-search__title">Post jobs</h2>
          <div class="job-search__txt">Use B.C.'s most comprehensive job board to post jobs for free and find the right people to help your business grow. With hundreds of thousands of job seekers using the site, it's a great way to find new talent.</div>
          <a class="btn-primary" href="#">Post a Job</a>
        </div>
      </div>
    </div>
  </div>
</div>


{# When breadcrums are displayed below the hero section #}
{{ drupal_block('system_breadcrumb_block', wrapper=false) }}

{# When social links are displayed below the hero section #}
<div class="social-sharing container-lg">
  {{ drupal_block('social_sharing_buttons_block', wrapper=false) }}
</div>

<article{{ attributes.addClass(classes) }}>

  {% if left_block|striptags|trim %}
    <aside class="page-sidebar" role="complementary">
      {{ left_block }}
    </aside>
  {% endif %}

  <div class="page-content">
    {% if hero_image is empty and hero_text is empty %}
      <h1 class="page-title">{{ label }}</h1>
    {% endif %}

    {% if drupal_region('content_top') %}
      {{ drupal_region('content_top') }}
    {% endif %}

    {% if page_body %}
      {{ page_body }}
    {% endif %}

    {{ page_content }}

    {% if drupal_region('content_bottom') %}
      {{ drupal_region('content_bottom') }}
    {% endif %}

  </div>
</article>

{% if related|striptags|trim %}
  <div class="container-lg">
    {{ related }}
  </div>
{% endif %}
