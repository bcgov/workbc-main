!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.mediaDownloadLinkPlugin=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,n)=>{e.exports=n("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,n)=>{e.exports=n("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(e,t,n)=>{e.exports=n("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var d=t[i]={exports:{}};return e[i](d,d.exports,n),d.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";n.d(i,{default:()=>a});var e=n("ckeditor5/src/core.js"),t=n("ckeditor5/src/widget.js");class o extends e.Command{execute(e){const{model:t}=this.editor,n=t.document.selection.getFirstRange();var i;for(const e of n.getItems())i=e.data;console.log(i),t.change((n=>{const o="/media/[dlcke:"+e["data-entity-uuid"]+"]/download?inline";var d,s={"data-entity-loader":"dlcke","data-uuid":e["data-entity-uuid"],rel:"no-follow",target:"_blank"};i||(i="Download",Object.assign(s,{class:"button"})),d=n.createText(i,{linkHref:o,htmlA:{attributes:s}}),t.insertContent(d)}))}refresh(){const{model:e}=this.editor,{selection:t}=e.document;this.isEnabled=!0}}class d extends e.Plugin{static get requires(){return[t.Widget]}init(){this.editor.commands.add("insertMediaDownloadLink",new o(this.editor))}}var s=n("ckeditor5/src/ui.js");class r extends e.Plugin{init(){const e=this.editor,t=this.editor.config.get("drupalMedia");if(!t)return;const{libraryURL:n,openDialog:i,dialogSettings:o={}}=t;n&&"function"==typeof i&&e.ui.componentFactory.add("mediaDownloadLink",(t=>{const d=e.commands.get("insertMediaDownloadLink"),r=new s.ButtonView(t);return r.set({label:e.t("Media Download Link"),icon:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\x3c!-- Created with Inkscape (http://www.inkscape.org/) --\x3e\n\n<svg\n   version="1.1"\n   id="svg1"\n   width="35"\n   height="36"\n   viewBox="0 0 35 36"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs\n     id="defs1" />\n  <g\n     id="g1">\n    <image\n       width="35"\n       height="36"\n       preserveAspectRatio="none"\n       xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAkCAYAAAAD3IPhAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1M&#10;OmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6&#10;eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3&#10;LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlv&#10;biByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNv&#10;bS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0&#10;aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4K&#10;TMInWQAAAohJREFUWAntV7+vOUEQn/vmoaARPxIKEYkODR2d+Af8DWjoFQpRKNSiQa3QKClIkCgp&#10;9Ug0FAoKUdy7WW83D3fc27vzXvGdZO3s7O5nPmZ3Z/cEkJFkMikeDgeZnp+Z0uk0lEolQe0spYFi&#10;PB6HRCKhFudhXK1WI7ZyuQyVSkXJz8M8OYMogYhaRAIVnU6niDViyTm5t/27N+jZzufzgEWKDBSL&#10;xZeEDCWDf6xerxNCuGyvCBlORhAE1YQMJ4PRUUvoAwcbJfP5HJrNJoMPh8Pg9/sBlww3tdpTRk6A&#10;ltPkcDjISZKYPKsZUVQMi8xyuYTNZnPjjDZ6vR5Uq1XaZLVhZNxuN2CRE1w+OXnLBpZzLGf7VTK4&#10;J7+TIndGNpsVF4sFs2MYPR4PeL1eZtNT2e/3sFqtIBqNMthQKAT0ArthyEa8WdG8THa7HbrdLimo&#10;6yHPcsHTPmkpWTpCXSLDXTRHRo9IUIz/ZGgk7uu/Fxmfz3dP8u1ti8VyvSjX6zXNN5SEmMvlAMsr&#10;OR6PEIvFyLBOpwM2m+3VFPKs+HpaML/n81n51sYM/D1DKnnYbrdAL75gMKgqayO2nPy9PSPH8pWt&#10;0WjAdDp9GIY27OMRrvdMq9WCQqEAVqsV2u0284tEMpkMnE4nMJvNIF3ArE+L8vTZudvtxEgkQtK+&#10;yWRi6Z/q2IdjlOTrow7n3QjXnpG+FGE8HpMNfrlcGCDqEhEYjUaAY34qXGTQCd7Q/X4f8MVPBfXh&#10;cMhFBDG49gx17nK5YDKZQCqVAowKb0QoniYyCIIRGgwGBI9naSgRrDWTQRCtJBADhXvPXKfr+6sY&#10;mdlsRj5D9XV3RUNs1UJziDSB5RC99UAg8JBnPgHxnsF8cDyqigAAAABJRU5ErkJggg==&#10;"\n       id="image1" />\n  </g>\n</svg>\n',tooltip:!0}),r.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(r,"execute",(()=>{i(n,(({attributes:t})=>{e.execute("insertMediaDownloadLink",t)}),o)})),r}))}}class l extends e.Plugin{static get requires(){return[d,r]}}const a={MediaDownloadLink:l}})(),i=i.default})()));